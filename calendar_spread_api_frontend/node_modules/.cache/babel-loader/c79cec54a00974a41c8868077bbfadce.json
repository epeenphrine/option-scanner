{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/raid-0/development/projects/optionsScannerStack/calendar_spread_api_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/raid-0/development/projects/optionsScannerStack/calendar_spread_api_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/mnt/raid-0/development/projects/optionsScannerStack/calendar_spread_api_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import CheckBox from\"./CheckBox\";export default function ApiTables(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),api=_useState2[0],setApi=_useState2[1];var _useState3=useState(15),_useState4=_slicedToArray(_useState3,2),days=_useState4[0],setDays=_useState4[1];var _useState5=useState(0.6),_useState6=_slicedToArray(_useState5,2),goldenRatio=_useState6[0],setGoldenRatio=_useState6[1];var _useState7=useState(500),_useState8=_slicedToArray(_useState7,2),volume=_useState8[0],setVolume=_useState8[1];var _useState9=useState(1000),_useState10=_slicedToArray(_useState9,2),oi=_useState10[0],setOi=_useState10[1];// call api on page load\nuseEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.neetcode.com/api/callieSpreads?days=14\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;setApi(data);case 7:case\"end\":return _context.stop();}}},_callee);})),[]);// call api using function based on events\nfunction makeReq(){return _makeReq.apply(this,arguments);}function _makeReq(){_makeReq=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"https://api.neetcode.com/api/callieSpreads?days=\".concat(days,\"&goldenRatio=\").concat(goldenRatio,\"&totalVolume=\").concat(volume,\"&openInterest=\").concat(oi);_context2.next=3;return fetch(url);case 3:res=_context2.sent;_context2.next=6;return res.json();case 6:data=_context2.sent;console.log(\"make req ran \");console.log(url);setApi(data);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _makeReq.apply(this,arguments);}var tickers=api.map(function(something){return/*#__PURE__*/_jsx(\"li\",{children:something.ticker});});var rows=api.map(function(row){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:row.ticker}),/*#__PURE__*/_jsx(\"td\",{children:row.dates.join(\" / \\t\")}),/*#__PURE__*/_jsx(\"td\",{children:row.goldenRatio.join(\" / \\t\")}),/*#__PURE__*/_jsx(\"td\",{children:row.strikes.join(\" / \\t\")})]});});// console.log(goldenRatio)\n// console.log(volume)\n// console.log(oi)\nreturn/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(CheckBox,{makeReq:makeReq,setDays:setDays,days:days,setGoldenRatio:setGoldenRatio,setVolume:setVolume,setOi:setOi}),/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ticker\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"dates\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"golden ratio\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"strikes\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"prices\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rows})]})]});}","map":{"version":3,"sources":["/mnt/raid-0/development/projects/optionsScannerStack/calendar_spread_api_frontend/src/components/table/ApiTables.js"],"names":["React","useState","useEffect","CheckBox","ApiTables","api","setApi","days","setDays","goldenRatio","setGoldenRatio","volume","setVolume","oi","setOi","fetch","res","json","data","makeReq","url","console","log","tickers","map","something","ticker","rows","row","dates","join","strikes"],"mappings":"6qBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,eACZH,QAAQ,CAAC,EAAD,CADI,wCAC3BI,GAD2B,eACtBC,MADsB,8BAEVL,QAAQ,CAAC,EAAD,CAFE,yCAE3BM,IAF2B,eAErBC,OAFqB,8BAGIP,QAAQ,CAAC,GAAD,CAHZ,yCAG3BQ,WAH2B,eAGdC,cAHc,8BAINT,QAAQ,CAAC,GAAD,CAJF,yCAI3BU,MAJ2B,eAInBC,SAJmB,8BAKdX,QAAQ,CAAC,IAAD,CALM,0CAK3BY,EAL2B,gBAKvBC,KALuB,gBAOlC;AACAZ,SAAS,sEAAC,sKACUa,CAAAA,KAAK,CACrB,oDADqB,CADf,QACFC,GADE,qCAIWA,CAAAA,GAAG,CAACC,IAAJ,EAJX,QAIFC,IAJE,eAKRZ,MAAM,CAACY,IAAD,CAAN,CALQ,sDAAD,GAMN,EANM,CAAT,CAQA;AAhBkC,QAiBnBC,CAAAA,OAjBmB,+HAiBlC,yJACQC,GADR,2DACiEb,IADjE,yBACqFE,WADrF,yBACgHE,MADhH,0BACuIE,EADvI,yBAEoBE,CAAAA,KAAK,CAACK,GAAD,CAFzB,QAEQJ,GAFR,uCAGqBA,CAAAA,GAAG,CAACC,IAAJ,EAHrB,QAGQC,IAHR,gBAIEG,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAd,MAAM,CAACY,IAAD,CAAN,CANF,yDAjBkC,0CAyBlC,GAAMK,CAAAA,OAAO,CAAGlB,GAAG,CAACmB,GAAJ,CAAQ,SAACC,SAAD,qBAAe,oBAAKA,SAAS,CAACC,MAAf,EAAf,EAAR,CAAhB,CACA,GAAMC,CAAAA,IAAI,CAAGtB,GAAG,CAACmB,GAAJ,CAAQ,SAACI,GAAD,qBACnB,mCACE,WAAI,KAAK,CAAC,KAAV,UAAiBA,GAAG,CAACF,MAArB,EADF,cAEE,oBAAKE,GAAG,CAACC,KAAJ,CAAUC,IAAV,CAAe,OAAf,CAAL,EAFF,cAGE,oBAAKF,GAAG,CAACnB,WAAJ,CAAgBqB,IAAhB,CAAqB,OAArB,CAAL,EAHF,cAIE,oBAAKF,GAAG,CAACG,OAAJ,CAAYD,IAAZ,CAAiB,OAAjB,CAAL,EAJF,GADmB,EAAR,CAAb,CAQA;AACA;AACA;AACA,mBACE,MAAC,KAAD,CAAO,QAAP,yBACE,KAAC,QAAD,EACE,OAAO,CAAEX,OADX,CAEE,OAAO,CAAEX,OAFX,CAGE,IAAI,CAAED,IAHR,CAIE,cAAc,CAAEG,cAJlB,CAKE,SAAS,CAAEE,SALb,CAME,KAAK,CAAEE,KANT,EADF,cASE,eAAO,KAAK,CAAC,OAAb,wBACE,oCACE,mCACE,WAAI,KAAK,CAAC,KAAV,oBADF,cAEE,WAAI,KAAK,CAAC,KAAV,mBAFF,cAGE,WAAI,KAAK,CAAC,KAAV,0BAHF,cAIE,WAAI,KAAK,CAAC,KAAV,qBAJF,cAKE,WAAI,KAAK,CAAC,KAAV,oBALF,GADF,EADF,cAUE,uBAAQa,IAAR,EAVF,GATF,GADF,CAwBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport CheckBox from \"./CheckBox\";\n\nexport default function ApiTables() {\n  const [api, setApi] = useState([]);\n  const [days, setDays] = useState(15);\n  const [goldenRatio, setGoldenRatio] = useState(0.6);\n  const [volume, setVolume] = useState(500);\n  const [oi, setOi] = useState(1000);\n\n  // call api on page load\n  useEffect(async () => {\n    const res = await fetch(\n      \"https://api.neetcode.com/api/callieSpreads?days=14\"\n    );\n    const data = await res.json();\n    setApi(data);\n  }, []);\n\n  // call api using function based on events\n  async function makeReq() {\n    const url = `https://api.neetcode.com/api/callieSpreads?days=${days}&goldenRatio=${goldenRatio}&totalVolume=${volume}&openInterest=${oi}`;\n    const res = await fetch(url);\n    const data = await res.json();\n    console.log(\"make req ran \");\n    console.log(url);\n    setApi(data);\n  }\n  const tickers = api.map((something) => <li>{something.ticker}</li>);\n  const rows = api.map((row) => (\n    <tr>\n      <th scope=\"row\">{row.ticker}</th>\n      <td>{row.dates.join(\" / \\t\")}</td>\n      <td>{row.goldenRatio.join(\" / \\t\")}</td>\n      <td>{row.strikes.join(\" / \\t\")}</td>\n    </tr>\n  ));\n  // console.log(goldenRatio)\n  // console.log(volume)\n  // console.log(oi)\n  return (\n    <React.Fragment>\n      <CheckBox\n        makeReq={makeReq}\n        setDays={setDays}\n        days={days}\n        setGoldenRatio={setGoldenRatio}\n        setVolume={setVolume}\n        setOi={setOi}\n      />\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">ticker</th>\n            <th scope=\"col\">dates</th>\n            <th scope=\"col\">golden ratio</th>\n            <th scope=\"col\">strikes</th>\n            <th scope=\"col\">prices</th>\n          </tr>\n        </thead>\n        <tbody>{rows}</tbody>\n      </table>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}